<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Tarjeta de crédito válida</title>
</head>

<body>

  <input type="number" oninput="validarCantidadDeDigitos()" placeholder="Número de tarjeta" id="cardnumber">
  <button onclick="validate()">Validar</button>
  <div id="result"></div>

  <script lang="javascript">
    
  //obtener elemento por ID
  const numeroTarjeta = document.getElementById("cardnumber");

  function validate(){
    // OBJETIVO: validar si el número es valido
    //lo que se espera es que retorne true or false
    //TODO:
    //1.Recorrer los números inversamente 1324 -> 4,2,3,1. 1324 -> [1,3,2,4]
    /*2.Cuando la posicion del número sea par, multiplicar por 
        dos, si el resultado es mayor a 10 sumar sus digitos 5 -> 5*2=10 -> 1+0 = 1
        4 | 2*2 | 3 | 1*2
        
    3.Sumar todos los digitos.
      4 + 4 + 3 + 2 = 13
    4.Si el resultado dividido entre 10 da residuo 0 es true y si da otro numero es false.
      13 % 10 = 3, entonces como no es 0 es FALSE
    */

    //arrow function
    // 234 -> '234' -> [2,3,4] -> [4,3,2]
    // '2' -> 2 -> [2]
    // '3' -> 3 -> [2,3]
    // '4' -> 4 -> [2,3,4]
    // 123408 -> '123408' 6
    let digitos = String(numeroTarjeta.value);
    let arrayDigitos = []

    for(let i=0; i<digitos.length; i++){
      arrayDigitos.push(parseInt(digitos[i]));
    }
    // 16, 15 ,14... 0


  }

  function validarCantidadDeDigitos() {
    // Esta funcion tiene que validad que haya 16 digitos ni mas ni menos
    // TODO:
    //1 saber cuantos digitos tiene numeroTarjeta.value (check)
    //2 comparar el numero de digitos con 16 (check)

    let digitos = String(numeroTarjeta.value);

    if(digitos.length >= 16) {
      digitos = digitos.slice(0,16);
      numeroTarjeta.value=parseInt(digitos);
    } else {
  
    }
  }
  </script>
</body>

</html>